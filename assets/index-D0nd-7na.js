
/**
 * 由 admin 提供技术支持
 * Powered by admin
 * 代码仓库
 * Github https://github.com/Lmx1220/kpu-web
 */
    
import{t as h,I as L,_ as P,a as B}from"./index-CiimMFkM.js";import{d as K,u as j,c as I,r as p,a as q,b as _,e as l,f as i,h as m,i as c,j as e,w as d,T as N,n as y,F as x,_ as V,k as F,l as D,o as n,m as E,p as A,q as G,s as H,t as J}from"./bootstrap-DTzpk8a9.js";import{_ as M}from"./index.vue_vue_type_script_setup_true_lang-DuTEbzn1.js";import{_ as Q}from"./logo-D3a0KU1a.js";import{_ as U}from"./login-banner-QOEVdAqA.js";import{_ as W}from"./index.vue_vue_type_script_setup_true_lang-DlAPsHPm.js";import{_ as X}from"./index.vue_vue_type_script_setup_true_lang-C4PFpKyT.js";import{_ as Y}from"./index.vue_vue_type_script_setup_true_lang-PawWmnq1.js";import"./index.vue_vue_type_script_setup_true_lang-xhGZrP68.js";import"./RovingFocusGroup-BuS0Erbr.js";import"./RovingFocusItem-RuKDMxCS.js";import"./index-Ce4LrBVu.js";import"./MenuLabel-v4UIozEX.js";import"./useTypeahead-Dxoy5j1R.js";import"./useArrowNavigation-B5rxJs06.js";import"./index.vue_vue_type_script_setup_true_lang-BW889TwX.js";import"./nullish-7k-Mr_-W.js";import"./useFormControl-Bfdwftmu.js";import"./VisuallyHiddenInput-BWgIjf8G.js";import"./vee-validate-zod-CALzD3H0.js";import"./index.vue_vue_type_script_setup_true_lang--vljnn2b.js";import"./FormDescription.vue_vue_type_script_setup_true_lang-BYn0-Kpy.js";import"./index.vue_vue_type_script_setup_true_lang-Cdx9uZmh.js";const Z={class:"absolute right-4 top-4 z-1 flex-center border rounded-lg bg-background p-1 text-base"},ee={class:"grid grid-cols-3 w-28 gap-2 p-4"},te=["onClick"],oe={class:"login-banner"},re={class:"login-form flex-col-center"},ne=K({name:"Login",__name:"index",setup(se){var b;const $=q(),w=F(),r=j(),C=I(()=>Object.keys(h).map(g=>({label:g,value:h[g][r.currentColorScheme||"light"]}))),s=p("center"),R=p(((b=$.query.redirect)==null?void 0:b.toString())??r.settings.home.fullPath),a=p("login"),u=p(),f=p();return(g,t)=>{const v=A,k=E,S=M,O=V,T=D("Copyright"),z=B;return n(),_(x,null,[t[9]||(t[9]=l("div",{class:"bg-banner"},null,-1)),l("div",Z,[e(r).mode==="pc"?(n(),i(S,{key:0,items:[[{label:"左侧布局",disabled:e(s)==="left",handle:()=>{s.value="left"}},{label:"居中布局",disabled:e(s)==="center",handle:()=>{s.value="center"}},{label:"右侧布局",disabled:e(s)==="right",handle:()=>{s.value="right"}}]]},{default:d(()=>[c(k,{variant:"ghost",size:"icon",class:"h-9 w-9"},{default:d(()=>[c(v,{name:{left:"i-icon-park-outline:left-bar",center:"i-icon-park-outline:square",right:"i-icon-park-outline:right-bar"}[e(s)],size:16},null,8,["name"])]),_:1})]),_:1},8,["items"])):m("",!0),e(r).settings.toolbar.i18n?(n(),i(L,{key:1,class:"rounded-full hover-bg-[var(--g-bg)]"})):m("",!0),c(O,{class:"min-w-auto p-0"},{panel:d(()=>[l("div",ee,[(n(!0),_(x,null,G(e(C),o=>(n(),_("div",{key:o.label,class:y(["m-auto h-5 w-5 flex cursor-pointer items-center justify-center border-2 border-border border-transparent rounded-full text-xs transition-border",{"border-primary!":e(r).currentColorScheme==="dark"?e(r).settings.app.darkTheme===o.label:e(r).settings.app.lightTheme===o.label}]),onClick:ae=>e(r).currentColorScheme==="dark"?e(r).settings.app.darkTheme=o.label:e(r).settings.app.lightTheme=o.label},[l("div",{class:"h-3 w-3 flex items-center justify-center rounded-full",style:H(`background-color: hsl(${o.value["--primary"]});`)},null,4)],10,te))),128))])]),default:d(()=>[c(k,{variant:"ghost",size:"icon",class:"h-9 w-9"},{default:d(()=>[c(v,{name:"i-mdi:circle",class:"text-primary"})]),_:1})]),_:1}),e(r).settings.toolbar.colorScheme?(n(),i(P,{key:2,class:"rounded-full hover-bg-[var(--g-bg)]"})):m("",!0)]),l("div",{class:y(["login-box",e(s)])},[l("div",oe,[t[7]||(t[7]=l("img",{src:Q,class:"absolute left-4 top-4 h-30px rounded ring ring-stone-2 dark-ring-stone-8"},null,-1)),t[8]||(t[8]=l("img",{src:U,class:"banner"},null,-1)),e(r).mode==="pc"&&["left","right"].includes(e(s))?(n(),i(T,{key:0})):m("",!0)]),l("div",re,[c(N,{name:"fade",mode:"out-in"},{default:d(()=>[e(a)==="login"?(n(),i(W,{key:0,ref_key:"formRef",ref:f,account:e(u),onOnLogin:t[0]||(t[0]=o=>e(w).push(e(R))),onOnRegister:t[1]||(t[1]=o=>{a.value="register",u.value=o}),onOnResetPassword:t[2]||(t[2]=o=>{a.value="resetPassword",u.value=o})},null,8,["account"])):e(a)==="register"?(n(),i(X,{key:1,ref_key:"formRef",ref:f,account:e(u),onOnRegister:t[3]||(t[3]=o=>{a.value="login",u.value=o}),onOnLogin:t[4]||(t[4]=o=>a.value="login")},null,8,["account"])):e(a)==="resetPassword"?(n(),i(Y,{key:2,ref_key:"formRef",ref:f,account:e(u),onOnResetPassword:t[5]||(t[5]=o=>{a.value="login",u.value=o}),onOnLogin:t[6]||(t[6]=o=>a.value="login")},null,8,["account"])):m("",!0)]),_:1})])],2),e(r).mode==="mobile"||e(s)==="center"?(n(),i(z,{key:0,class:"copyright"})):m("",!0)],64)}}}),ze=J(ne,[["__scopeId","data-v-d3b6b040"]]);export{ze as default};

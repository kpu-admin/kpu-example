
/**
 * 由 admin 提供技术支持
 * Powered by admin
 * 代码仓库
 * Github https://github.com/Lmx1220/kpu-web
 */
    
import{d as B,r as $,z as le,f as C,o as _,w as f,e as Ee,O,y as x,j as t,aM as je,D as ge,C as Be,c as M,aH as Z,E as qe,A as oe,h as X,b as U,F as ye,q as ke,aq as Ge,B as z,I as _e,H as q,i as P,P as H,a3 as te,ar as Ye,L as se,M as re,as as Xe,K as ee,bx as Ze,s as Je,aU as $e,S as J,ax as Qe,au as et,av as tt,aG as ot,ae as ie,az as nt,aw as at,a4 as lt,aL as st,aD as Pe,N as we,a2 as rt,b5 as it,by as ut,an as Ie,ag as De,bz as dt,V as ue,v as Ae,R as j,n as ct,p as de,a5 as pt,a6 as ft}from"./bootstrap-DTzpk8a9.js";import{a as mt,i as Te}from"./nullish-7k-Mr_-W.js";import{u as vt}from"./useFormControl-Bfdwftmu.js";import{u as Me}from"./useTypeahead-Dxoy5j1R.js";const ht=B({__name:"BubbleSelect",props:{autocomplete:{},autofocus:{type:Boolean},disabled:{type:Boolean},form:{},multiple:{type:Boolean},name:{},required:{type:Boolean},size:{},value:{}},setup(s){const n=s,e=$();return le(()=>n.value,(i,o)=>{const a=window.HTMLSelectElement.prototype,d=Object.getOwnPropertyDescriptor(a,"value").set;if(i!==o&&d&&e.value){const u=new Event("change",{bubbles:!0});d.call(e.value,i),e.value.dispatchEvent(u)}}),(i,o)=>(_(),C(t(je),{"as-child":""},{default:f(()=>[Ee("select",O({ref_key:"selectElement",ref:e},n),[x(i.$slots,"default")],16)]),_:3}))}}),gt=[" ","Enter","ArrowUp","ArrowDown"],yt=[" ","Enter"],L=10;function ve(s,n,e){return s===void 0?!1:Array.isArray(s)?s.some(i=>he(i,n,e)):he(s,n,e)}function he(s,n,e){return s===void 0||n===void 0?!1:typeof s=="string"?s===n:typeof e=="function"?e(s,n):typeof e=="string"?(s==null?void 0:s[e])===(n==null?void 0:n[e]):mt(s,n)}const _t={key:0,value:""},[G,Oe]=oe("SelectRoot"),wt=B({inheritAttrs:!1,__name:"SelectRoot",props:{open:{type:Boolean,default:void 0},defaultOpen:{type:Boolean},defaultValue:{},modelValue:{default:void 0},by:{},dir:{},multiple:{type:Boolean},autocomplete:{},disabled:{type:Boolean},name:{},required:{type:Boolean}},emits:["update:modelValue","update:open"],setup(s,{emit:n}){const e=s,i=n,{required:o,disabled:a,multiple:l,dir:d}=ge(e),u=Be(e,"modelValue",i,{defaultValue:e.defaultValue??(l.value?[]:void 0),passive:e.modelValue===void 0,deep:!0}),r=Be(e,"open",i,{defaultValue:e.defaultOpen,passive:e.open===void 0}),m=$(),v=$(),h=$({x:0,y:0}),w=M(()=>{var c;return l.value&&Array.isArray(u.value)?((c=u.value)==null?void 0:c.length)===0:Te(u.value)});Z({isProvider:!0});const D=qe(d),A=vt(m),I=$(new Set),R=M(()=>Array.from(I.value).map(c=>c.value).join(";"));function y(c){if(l.value){const p=Array.isArray(u.value)?[...u.value]:[],b=p.findIndex(g=>he(g,c,e.by));b===-1?p.push(c):p.splice(b,1),u.value=[...p]}else u.value=c}return Oe({triggerElement:m,onTriggerChange:c=>{m.value=c},valueElement:v,onValueElementChange:c=>{v.value=c},contentId:"",modelValue:u,onValueChange:y,by:e.by,open:r,multiple:l,required:o,onOpenChange:c=>{r.value=c},dir:D,triggerPointerDownPosRef:h,disabled:a,isEmptyModelValue:w,optionsSet:I,onOptionAdd:c=>I.value.add(c),onOptionRemove:c=>I.value.delete(c)}),(c,p)=>(_(),C(t(Ge),null,{default:f(()=>[x(c.$slots,"default",{modelValue:t(u),open:t(r)}),t(A)?(_(),C(ht,{key:R.value,"aria-hidden":"true",tabindex:"-1",multiple:t(l),required:t(o),name:c.name,autocomplete:c.autocomplete,disabled:t(a),value:t(u)},{default:f(()=>[t(Te)(t(u))?(_(),U("option",_t)):X("",!0),(_(!0),U(ye,null,ke(Array.from(I.value),b=>(_(),U("option",O({key:b.value??"",ref_for:!0},b),null,16))),128))]),_:1},8,["multiple","required","name","autocomplete","disabled","value"])):X("",!0)]),_:3}))}}),bt=B({__name:"SelectTrigger",props:{disabled:{type:Boolean},reference:{},asChild:{type:Boolean},as:{default:"button"}},setup(s){const n=s,e=G(),{forwardRef:i,currentElement:o}=z(),a=M(()=>{var h;return((h=e.disabled)==null?void 0:h.value)||n.disabled});e.contentId||(e.contentId=_e(void 0,"reka-select-content")),q(()=>{e.onTriggerChange(o.value)});const{getItems:l}=Z(),{search:d,handleTypeaheadSearch:u,resetTypeahead:r}=Me();function m(){a.value||(e.onOpenChange(!0),r())}function v(h){m(),e.triggerPointerDownPosRef.value={x:Math.round(h.pageX),y:Math.round(h.pageY)}}return(h,w)=>(_(),C(t(Ye),{"as-child":"",reference:h.reference},{default:f(()=>{var D,A,I,R;return[P(t(H),{ref:t(i),role:"combobox",type:h.as==="button"?"button":void 0,"aria-controls":t(e).contentId,"aria-expanded":t(e).open.value||!1,"aria-required":(D=t(e).required)==null?void 0:D.value,"aria-autocomplete":"none",disabled:a.value,dir:(A=t(e))==null?void 0:A.dir.value,"data-state":(I=t(e))!=null&&I.open.value?"open":"closed","data-disabled":a.value?"":void 0,"data-placeholder":(R=t(e).modelValue)!=null&&R.value?void 0:"","as-child":h.asChild,as:h.as,onClick:w[0]||(w[0]=y=>{var c;(c=y==null?void 0:y.currentTarget)==null||c.focus()}),onPointerdown:w[1]||(w[1]=y=>{if(y.pointerType==="touch")return y.preventDefault();const c=y.target;c.hasPointerCapture(y.pointerId)&&c.releasePointerCapture(y.pointerId),y.button===0&&y.ctrlKey===!1&&(v(y),y.preventDefault())}),onPointerup:w[2]||(w[2]=te(y=>{y.pointerType==="touch"&&v(y)},["prevent"])),onKeydown:w[3]||(w[3]=y=>{const c=t(d)!=="";!(y.ctrlKey||y.altKey||y.metaKey)&&y.key.length===1&&c&&y.key===" "||(t(u)(y.key,t(l)()),t(gt).includes(y.key)&&(m(),y.preventDefault()))})},{default:f(()=>[x(h.$slots,"default")]),_:3},8,["type","aria-controls","aria-expanded","aria-required","disabled","dir","data-state","data-disabled","data-placeholder","as-child","as"])]}),_:3},8,["reference"]))}}),St=B({__name:"SelectPortal",props:{to:{},disabled:{type:Boolean},defer:{type:Boolean},forceMount:{type:Boolean}},setup(s){const n=s;return(e,i)=>(_(),C(t(Xe),se(re(n)),{default:f(()=>[x(e.$slots,"default")]),_:3},16))}}),[be,Ct]=oe("SelectItemAlignedPosition"),xt=B({inheritAttrs:!1,__name:"SelectItemAlignedPosition",props:{asChild:{type:Boolean},as:{}},emits:["placed"],setup(s,{emit:n}){const e=s,i=n,{getItems:o}=Z(),a=G(),l=Y(),d=$(!1),u=$(!0),r=$(),{forwardRef:m,currentElement:v}=z(),{viewport:h,selectedItem:w,selectedItemText:D,focusSelectedItem:A}=l;function I(){if(a.triggerElement.value&&a.valueElement.value&&r.value&&v.value&&(h!=null&&h.value)&&(w!=null&&w.value)&&(D!=null&&D.value)){const c=a.triggerElement.value.getBoundingClientRect(),p=v.value.getBoundingClientRect(),b=a.valueElement.value.getBoundingClientRect(),g=D.value.getBoundingClientRect();if(a.dir.value!=="rtl"){const K=g.left-p.left,F=b.left-K,N=c.left-F,W=c.width+N,pe=Math.max(W,p.width),fe=window.innerWidth-L,me=$e(F,L,Math.max(L,fe-pe));r.value.style.minWidth=`${W}px`,r.value.style.left=`${me}px`}else{const K=p.right-g.right,F=window.innerWidth-b.right-K,N=window.innerWidth-c.right-F,W=c.width+N,pe=Math.max(W,p.width),fe=window.innerWidth-L,me=$e(F,L,Math.max(L,fe-pe));r.value.style.minWidth=`${W}px`,r.value.style.right=`${me}px`}const S=o().map(K=>K.ref),T=window.innerHeight-L*2,E=h.value.scrollHeight,k=window.getComputedStyle(v.value),V=Number.parseInt(k.borderTopWidth,10),Q=Number.parseInt(k.paddingTop,10),Se=Number.parseInt(k.borderBottomWidth,10),He=Number.parseInt(k.paddingBottom,10),Ce=V+Q+E+He+Se,Ke=Math.min(w.value.offsetHeight*5,Ce),xe=window.getComputedStyle(h.value),Fe=Number.parseInt(xe.paddingTop,10),ze=Number.parseInt(xe.paddingBottom,10),ne=c.top+c.height/2-L,Ne=T-ne,ce=w.value.offsetHeight/2,We=w.value.offsetTop+ce,ae=V+Q+We,Ue=Ce-ae;if(ae<=ne){const K=w.value===S[S.length-1];r.value.style.bottom="0px";const F=v.value.clientHeight-h.value.offsetTop-h.value.offsetHeight,N=Math.max(Ne,ce+(K?ze:0)+F+Se),W=ae+N;r.value.style.height=`${W}px`}else{const K=w.value===S[0];r.value.style.top="0px";const N=Math.max(ne,V+h.value.offsetTop+(K?Fe:0)+ce)+Ue;r.value.style.height=`${N}px`,h.value.scrollTop=ae-ne+h.value.offsetTop}r.value.style.margin=`${L}px 0`,r.value.style.minHeight=`${Ke}px`,r.value.style.maxHeight=`${T}px`,i("placed"),requestAnimationFrame(()=>d.value=!0)}}const R=$("");q(async()=>{await ee(),I(),v.value&&(R.value=window.getComputedStyle(v.value).zIndex)});function y(c){c&&u.value===!0&&(I(),A==null||A(),u.value=!1)}return Ze(a.triggerElement,()=>{I()}),Ct({contentWrapper:r,shouldExpandOnScrollRef:d,onScrollButtonChange:y}),(c,p)=>(_(),U("div",{ref_key:"contentWrapperElement",ref:r,style:Je({display:"flex",flexDirection:"column",position:"fixed",zIndex:R.value})},[P(t(H),O({ref:t(m),style:{boxSizing:"border-box",maxHeight:"100%"}},{...c.$attrs,...e}),{default:f(()=>[x(c.$slots,"default")]),_:3},16)],4))}}),Bt=B({__name:"SelectPopperPosition",props:{side:{},sideOffset:{},align:{default:"start"},alignOffset:{},avoidCollisions:{type:Boolean},collisionBoundary:{},collisionPadding:{default:L},arrowPadding:{},sticky:{},hideWhenDetached:{type:Boolean},positionStrategy:{},updatePositionStrategy:{},disableUpdateOnLayoutShift:{type:Boolean},prioritizePosition:{type:Boolean},reference:{},asChild:{type:Boolean},as:{}},setup(s){const e=J(s);return(i,o)=>(_(),C(t(Qe),O(t(e),{style:{boxSizing:"border-box","--reka-select-content-transform-origin":"var(--reka-popper-transform-origin)","--reka-select-content-available-width":"var(--reka-popper-available-width)","--reka-select-content-available-height":"var(--reka-popper-available-height)","--reka-select-trigger-width":"var(--reka-popper-anchor-width)","--reka-select-trigger-height":"var(--reka-popper-anchor-height)"}}),{default:f(()=>[x(i.$slots,"default")]),_:3},16))}}),$t={onViewportChange:()=>{},itemTextRefCallback:()=>{},itemRefCallback:()=>{}},[Y,Re]=oe("SelectContent"),Pt=B({__name:"SelectContentImpl",props:{position:{default:"item-aligned"},bodyLock:{type:Boolean,default:!0},side:{},sideOffset:{},align:{default:"start"},alignOffset:{},avoidCollisions:{type:Boolean},collisionBoundary:{},collisionPadding:{},arrowPadding:{},sticky:{},hideWhenDetached:{type:Boolean},positionStrategy:{},updatePositionStrategy:{},disableUpdateOnLayoutShift:{type:Boolean},prioritizePosition:{type:Boolean},reference:{},asChild:{type:Boolean},as:{}},emits:["closeAutoFocus","escapeKeyDown","pointerDownOutside"],setup(s,{emit:n}){const e=s,i=n,o=G();et(),tt(e.bodyLock);const{CollectionSlot:a,getItems:l}=Z(),d=$();ot(d);const{search:u,handleTypeaheadSearch:r}=Me(),m=$(),v=$(),h=$(),w=$(!1),D=$(!1),A=$(!1);function I(){v.value&&d.value&&Pe([v.value,d.value])}le(w,()=>{I()});const{onOpenChange:R,triggerPointerDownPosRef:y}=o;ie(g=>{if(!d.value)return;let S={x:0,y:0};const T=k=>{var V,Q;S={x:Math.abs(Math.round(k.pageX)-(((V=y.value)==null?void 0:V.x)??0)),y:Math.abs(Math.round(k.pageY)-(((Q=y.value)==null?void 0:Q.y)??0))}},E=k=>{var V;k.pointerType!=="touch"&&(S.x<=10&&S.y<=10?k.preventDefault():(V=d.value)!=null&&V.contains(k.target)||R(!1),document.removeEventListener("pointermove",T),y.value=null)};y.value!==null&&(document.addEventListener("pointermove",T),document.addEventListener("pointerup",E,{capture:!0,once:!0})),g(()=>{document.removeEventListener("pointermove",T),document.removeEventListener("pointerup",E,{capture:!0})})});function c(g){const S=g.ctrlKey||g.altKey||g.metaKey;if(g.key==="Tab"&&g.preventDefault(),!S&&g.key.length===1&&r(g.key,l()),["ArrowUp","ArrowDown","Home","End"].includes(g.key)){let E=[...l().map(k=>k.ref)];if(["ArrowUp","End"].includes(g.key)&&(E=E.slice().reverse()),["ArrowUp","ArrowDown"].includes(g.key)){const k=g.target,V=E.indexOf(k);E=E.slice(V+1)}setTimeout(()=>Pe(E)),g.preventDefault()}}const p=M(()=>e.position==="popper"?e:{}),b=J(p.value);return Re({content:d,viewport:m,onViewportChange:g=>{m.value=g},itemRefCallback:(g,S,T)=>{const E=!D.value&&!T,k=ve(o.modelValue.value,S,o.by);if(o.multiple.value){if(A.value)return;(k||E)&&(v.value=g,k&&(A.value=!0))}else(k||E)&&(v.value=g);E&&(D.value=!0)},selectedItem:v,selectedItemText:h,onItemLeave:()=>{var g;(g=d.value)==null||g.focus()},itemTextRefCallback:(g,S,T)=>{const E=!D.value&&!T;(ve(o.modelValue.value,S,o.by)||E)&&(h.value=g)},focusSelectedItem:I,position:e.position,isPositioned:w,searchRef:u}),(g,S)=>(_(),C(t(a),null,{default:f(()=>[P(t(nt),{"as-child":"",onMountAutoFocus:S[6]||(S[6]=te(()=>{},["prevent"])),onUnmountAutoFocus:S[7]||(S[7]=T=>{var E;i("closeAutoFocus",T),!T.defaultPrevented&&((E=t(o).triggerElement.value)==null||E.focus({preventScroll:!0}),T.preventDefault())})},{default:f(()=>[P(t(at),{"as-child":"","disable-outside-pointer-events":"",onFocusOutside:S[2]||(S[2]=te(()=>{},["prevent"])),onDismiss:S[3]||(S[3]=T=>t(o).onOpenChange(!1)),onEscapeKeyDown:S[4]||(S[4]=T=>i("escapeKeyDown",T)),onPointerDownOutside:S[5]||(S[5]=T=>i("pointerDownOutside",T))},{default:f(()=>[(_(),C(lt(g.position==="popper"?Bt:xt),O({...g.$attrs,...t(b)},{id:t(o).contentId,ref:T=>{d.value=t(st)(T)},role:"listbox","data-state":t(o).open.value?"open":"closed",dir:t(o).dir.value,style:{display:"flex",flexDirection:"column",outline:"none"},onContextmenu:S[0]||(S[0]=te(()=>{},["prevent"])),onPlaced:S[1]||(S[1]=T=>w.value=!0),onKeydown:c}),{default:f(()=>[x(g.$slots,"default")]),_:3},16,["id","data-state","dir","onKeydown"]))]),_:3})]),_:3})]),_:3}))}}),Tt=B({inheritAttrs:!1,__name:"SelectProvider",props:{context:{}},setup(s){return Oe(s.context),Re($t),(e,i)=>x(e.$slots,"default")}}),Et={key:1},kt=B({inheritAttrs:!1,__name:"SelectContent",props:{forceMount:{type:Boolean},position:{},bodyLock:{type:Boolean},side:{},sideOffset:{},align:{},alignOffset:{},avoidCollisions:{type:Boolean},collisionBoundary:{},collisionPadding:{},arrowPadding:{},sticky:{},hideWhenDetached:{type:Boolean},positionStrategy:{},updatePositionStrategy:{},disableUpdateOnLayoutShift:{type:Boolean},prioritizePosition:{type:Boolean},reference:{},asChild:{type:Boolean},as:{}},emits:["closeAutoFocus","escapeKeyDown","pointerDownOutside"],setup(s,{emit:n}){const e=s,o=we(e,n),a=G(),l=$();q(()=>{l.value=new DocumentFragment});const d=$(),u=M(()=>e.forceMount||a.open.value);return(r,m)=>{var v;return u.value?(_(),C(t(rt),{key:0,ref_key:"presenceRef",ref:d,present:!0},{default:f(()=>[P(Pt,se(re({...t(o),...r.$attrs})),{default:f(()=>[x(r.$slots,"default")]),_:3},16)]),_:3},512)):!((v=d.value)!=null&&v.present)&&l.value?(_(),U("div",Et,[(_(),C(it,{to:l.value},[P(Tt,{context:t(a)},{default:f(()=>[x(r.$slots,"default")]),_:3},8,["context"])],8,["to"]))])):X("",!0)}}}),[Ve,It]=oe("SelectItem"),Dt=B({__name:"SelectItem",props:{value:{},disabled:{type:Boolean},textValue:{},asChild:{type:Boolean},as:{}},emits:["select"],setup(s,{emit:n}){const e=s,i=n,{disabled:o}=ge(e),a=G(),l=Y(),{forwardRef:d,currentElement:u}=z(),{CollectionItem:r}=Z(),m=M(()=>{var p;return ve((p=a.modelValue)==null?void 0:p.value,e.value,a.by)}),v=$(!1),h=$(e.textValue??""),w=_e(void 0,"reka-select-item-text"),D="select.select";async function A(p){if(p.defaultPrevented)return;const b={originalEvent:p,value:e.value};ut(D,I,b)}async function I(p){await ee(),i("select",p),!p.defaultPrevented&&(o.value||(a.onValueChange(e.value),a.multiple.value||a.onOpenChange(!1)))}async function R(p){var b;await ee(),!p.defaultPrevented&&(o.value?(b=l.onItemLeave)==null||b.call(l):p.currentTarget.focus({preventScroll:!0}))}async function y(p){var b;await ee(),!p.defaultPrevented&&p.currentTarget===Ie()&&((b=l.onItemLeave)==null||b.call(l))}async function c(p){var g;await ee(),!(p.defaultPrevented||((g=l.searchRef)==null?void 0:g.value)!==""&&p.key===" ")&&(yt.includes(p.key)&&A(p),p.key===" "&&p.preventDefault())}if(e.value==="")throw new Error("A <SelectItem /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return q(()=>{u.value&&l.itemRefCallback(u.value,e.value,e.disabled)}),It({value:e.value,disabled:o,textId:w,isSelected:m,onItemTextChange:p=>{h.value=((h.value||(p==null?void 0:p.textContent))??"").trim()}}),(p,b)=>(_(),C(t(r),{value:{textValue:h.value}},{default:f(()=>[P(t(H),{ref:t(d),role:"option","aria-labelledby":t(w),"data-highlighted":v.value?"":void 0,"aria-selected":m.value,"data-state":m.value?"checked":"unchecked","aria-disabled":t(o)||void 0,"data-disabled":t(o)?"":void 0,tabindex:t(o)?void 0:-1,as:p.as,"as-child":p.asChild,onFocus:b[0]||(b[0]=g=>v.value=!0),onBlur:b[1]||(b[1]=g=>v.value=!1),onPointerup:A,onPointerdown:b[2]||(b[2]=g=>{g.currentTarget.focus({preventScroll:!0})}),onTouchend:b[3]||(b[3]=te(()=>{},["prevent","stop"])),onPointermove:R,onPointerleave:y,onKeydown:c},{default:f(()=>[x(p.$slots,"default")]),_:3},8,["aria-labelledby","data-highlighted","aria-selected","data-state","aria-disabled","data-disabled","tabindex","as","as-child"])]),_:3},8,["value"]))}}),At=B({__name:"SelectItemIndicator",props:{asChild:{type:Boolean},as:{default:"span"}},setup(s){const n=s,e=Ve();return(i,o)=>t(e).isSelected.value?(_(),C(t(H),O({key:0,"aria-hidden":"true"},n),{default:f(()=>[x(i.$slots,"default")]),_:3},16)):X("",!0)}}),[oo,Mt]=oe("SelectGroup"),Ot=B({__name:"SelectGroup",props:{asChild:{type:Boolean},as:{}},setup(s){const n=s,e=_e(void 0,"reka-select-group");return Mt({id:e}),(i,o)=>(_(),C(t(H),O({role:"group"},n,{"aria-labelledby":t(e)}),{default:f(()=>[x(i.$slots,"default")]),_:3},16,["aria-labelledby"]))}}),Rt=B({inheritAttrs:!1,__name:"SelectItemText",props:{asChild:{type:Boolean},as:{default:"span"}},setup(s){const n=s,e=G(),i=Y(),o=Ve(),{forwardRef:a,currentElement:l}=z(),d=M(()=>{var u,r;return{value:o.value,disabled:o.disabled.value,textContent:((u=l.value)==null?void 0:u.textContent)??((r=o.value)==null?void 0:r.toString())??""}});return q(()=>{l.value&&(o.onItemTextChange(l.value),i.itemTextRefCallback(l.value,o.value,o.disabled.value),e.onOptionAdd(d.value))}),De(()=>{e.onOptionRemove(d.value)}),(u,r)=>(_(),C(t(H),O({id:t(o).textId,ref:t(a)},{...n,...u.$attrs}),{default:f(()=>[x(u.$slots,"default")]),_:3},16,["id"]))}}),Vt=B({__name:"SelectViewport",props:{nonce:{},asChild:{type:Boolean},as:{}},setup(s){const n=s,{nonce:e}=ge(n),i=dt(e),o=Y(),a=o.position==="item-aligned"?be():void 0,{forwardRef:l,currentElement:d}=z();q(()=>{o==null||o.onViewportChange(d.value)});const u=$(0);function r(m){const v=m.currentTarget,{shouldExpandOnScrollRef:h,contentWrapper:w}=a??{};if(h!=null&&h.value&&(w!=null&&w.value)){const D=Math.abs(u.value-v.scrollTop);if(D>0){const A=window.innerHeight-L*2,I=Number.parseFloat(w.value.style.minHeight),R=Number.parseFloat(w.value.style.height),y=Math.max(I,R);if(y<A){const c=y+D,p=Math.min(A,c),b=c-p;w.value.style.height=`${p}px`,w.value.style.bottom==="0px"&&(v.scrollTop=b>0?b:0,w.value.style.justifyContent="flex-end")}}}u.value=v.scrollTop}return(m,v)=>(_(),U(ye,null,[P(t(H),O({ref:t(l),"data-reka-select-viewport":"",role:"presentation"},{...m.$attrs,...n},{style:{position:"relative",flex:1,overflow:"hidden auto"},onScroll:r}),{default:f(()=>[x(m.$slots,"default")]),_:3},16),P(t(H),{as:"style",nonce:t(i)},{default:f(()=>v[0]||(v[0]=[ue(" /* Hide scrollbars cross-browser and enable momentum scroll for touch devices */ [data-reka-select-viewport] { scrollbar-width:none; -ms-overflow-style: none; -webkit-overflow-scrolling: touch; } [data-reka-select-viewport]::-webkit-scrollbar { display: none; } ")])),_:1},8,["nonce"])],64))}}),Le=B({__name:"SelectScrollButtonImpl",emits:["autoScroll"],setup(s,{emit:n}){const e=n,{getItems:i}=Z(),o=Y(),a=$(null);function l(){a.value!==null&&(window.clearInterval(a.value),a.value=null)}ie(()=>{const r=i().map(m=>m.ref).find(m=>m===Ie());r==null||r.scrollIntoView({block:"nearest"})});function d(){a.value===null&&(a.value=window.setInterval(()=>{e("autoScroll")},50))}function u(){var r;(r=o.onItemLeave)==null||r.call(o),a.value===null&&(a.value=window.setInterval(()=>{e("autoScroll")},50))}return De(()=>l()),(r,m)=>{var v;return _(),C(t(H),O({"aria-hidden":"true",style:{flexShrink:0}},(v=r.$parent)==null?void 0:v.$props,{onPointerdown:d,onPointermove:u,onPointerleave:m[0]||(m[0]=()=>{l()})}),{default:f(()=>[x(r.$slots,"default")]),_:3},16)}}}),Lt=B({__name:"SelectScrollUpButton",props:{asChild:{type:Boolean},as:{}},setup(s){const n=Y(),e=n.position==="item-aligned"?be():void 0,{forwardRef:i,currentElement:o}=z(),a=$(!1);return ie(l=>{var d,u;if((d=n.viewport)!=null&&d.value&&((u=n.isPositioned)!=null&&u.value)){let r=function(){a.value=m.scrollTop>0};const m=n.viewport.value;r(),m.addEventListener("scroll",r),l(()=>m.removeEventListener("scroll",r))}}),le(o,()=>{o.value&&(e==null||e.onScrollButtonChange(o.value))}),(l,d)=>a.value?(_(),C(Le,{key:0,ref:t(i),onAutoScroll:d[0]||(d[0]=()=>{const{viewport:u,selectedItem:r}=t(n);u!=null&&u.value&&(r!=null&&r.value)&&(u.value.scrollTop=u.value.scrollTop-r.value.offsetHeight)})},{default:f(()=>[x(l.$slots,"default")]),_:3},512)):X("",!0)}}),Ht=B({__name:"SelectScrollDownButton",props:{asChild:{type:Boolean},as:{}},setup(s){const n=Y(),e=n.position==="item-aligned"?be():void 0,{forwardRef:i,currentElement:o}=z(),a=$(!1);return ie(l=>{var d,u;if((d=n.viewport)!=null&&d.value&&((u=n.isPositioned)!=null&&u.value)){let r=function(){const v=m.scrollHeight-m.clientHeight;a.value=Math.ceil(m.scrollTop)<v};const m=n.viewport.value;r(),m.addEventListener("scroll",r),l(()=>m.removeEventListener("scroll",r))}}),le(o,()=>{o.value&&(e==null||e.onScrollButtonChange(o.value))}),(l,d)=>a.value?(_(),C(Le,{key:0,ref:t(i),onAutoScroll:d[0]||(d[0]=()=>{const{viewport:u,selectedItem:r}=t(n);u!=null&&u.value&&(r!=null&&r.value)&&(u.value.scrollTop=u.value.scrollTop+r.value.offsetHeight)})},{default:f(()=>[x(l.$slots,"default")]),_:3},512)):X("",!0)}}),Kt=B({__name:"SelectValue",props:{placeholder:{default:""},asChild:{type:Boolean},as:{default:"span"}},setup(s){const n=s,{forwardRef:e,currentElement:i}=z(),o=G();q(()=>{o.valueElement=i});const a=M(()=>{var m;let d=[];const u=Array.from(o.optionsSet.value),r=v=>u.find(h=>h.value===v);return Array.isArray(o.modelValue.value)?d=o.modelValue.value.map(v=>{var h;return((h=r(v))==null?void 0:h.textContent)??""}):d=[((m=r(o.modelValue.value))==null?void 0:m.textContent)??""],d.filter(Boolean)}),l=M(()=>a.value.length?a.value.join(", "):n.placeholder);return(d,u)=>(_(),C(t(H),{ref:t(e),as:d.as,"as-child":d.asChild,style:{pointerEvents:"none"},"data-placeholder":a.value.length?void 0:n.placeholder},{default:f(()=>[x(d.$slots,"default",{selectedLabel:a.value,modelValue:t(o).modelValue.value},()=>[ue(Ae(l.value),1)])]),_:3},8,["as","as-child","data-placeholder"]))}}),Ft=B({__name:"SelectIcon",props:{asChild:{type:Boolean},as:{default:"span"}},setup(s){return(n,e)=>(_(),C(t(H),{"aria-hidden":"true",as:n.as,"as-child":n.asChild},{default:f(()=>[x(n.$slots,"default",{},()=>[e[0]||(e[0]=ue("▼"))])]),_:3},8,["as","as-child"]))}}),zt=B({__name:"Select",props:{open:{type:Boolean},defaultOpen:{type:Boolean},defaultValue:{},modelValue:{},by:{type:[String,Function]},dir:{},multiple:{type:Boolean},autocomplete:{},disabled:{type:Boolean},name:{},required:{type:Boolean}},emits:["update:modelValue","update:open"],setup(s,{emit:n}){const o=we(s,n);return(a,l)=>(_(),C(t(wt),se(re(t(o))),{default:f(()=>[x(a.$slots,"default")]),_:3},16))}}),Nt=B({inheritAttrs:!1,__name:"SelectContent",props:{forceMount:{type:Boolean},position:{default:"popper"},bodyLock:{type:Boolean},side:{},sideOffset:{},align:{},alignOffset:{},avoidCollisions:{type:Boolean},collisionBoundary:{},collisionPadding:{},arrowPadding:{},sticky:{},hideWhenDetached:{type:Boolean},positionStrategy:{},updatePositionStrategy:{},disableUpdateOnLayoutShift:{type:Boolean},prioritizePosition:{type:Boolean},reference:{},asChild:{type:Boolean},as:{},class:{}},emits:["closeAutoFocus","escapeKeyDown","pointerDownOutside"],setup(s,{emit:n}){const e=s,i=n,o=M(()=>{const{class:l,...d}=e;return d}),a=we(o,i);return(l,d)=>(_(),C(t(St),null,{default:f(()=>[P(t(kt),O({...t(a),...l.$attrs},{class:t(j)("relative z-2000 max-h-96 min-w-32 overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",l.position==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e.class)}),{default:f(()=>[P(t(Gt)),P(t(Vt),{class:ct(t(j)("p-1",l.position==="popper"&&"h-[--radix-select-trigger-height] w-full min-w-[--radix-select-trigger-width]"))},{default:f(()=>[x(l.$slots,"default")]),_:3},8,["class"]),P(t(qt))]),_:3},16,["class"])]),_:3}))}}),Wt=B({__name:"SelectGroup",props:{asChild:{type:Boolean},as:{},class:{}},setup(s){const n=s,e=M(()=>{const{class:i,...o}=n;return o});return(i,o)=>(_(),C(t(Ot),O({class:t(j)("p-1 w-full",n.class)},e.value),{default:f(()=>[x(i.$slots,"default")]),_:3},16,["class"]))}}),Ut={class:"absolute inset-e-2 h-3.5 w-3.5 flex items-center justify-center"},jt=B({__name:"SelectItem",props:{value:{},disabled:{type:Boolean},textValue:{},asChild:{type:Boolean},as:{},class:{}},setup(s){const n=s,e=M(()=>{const{class:o,...a}=n;return a}),i=J(e);return(o,a)=>{const l=de;return _(),C(t(Dt),O(t(i),{class:t(j)("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pe-8 ps-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",n.class)}),{default:f(()=>[Ee("span",Ut,[P(t(At),null,{default:f(()=>[P(l,{name:"i-lucide:check",size:16})]),_:1})]),P(t(Rt),null,{default:f(()=>[x(o.$slots,"default")]),_:3})]),_:3},16,["class"])}}}),qt=B({__name:"SelectScrollDownButton",props:{asChild:{type:Boolean},as:{},class:{}},setup(s){const n=s,e=M(()=>{const{class:o,...a}=n;return a}),i=J(e);return(o,a)=>{const l=de;return _(),C(t(Ht),O(t(i),{class:t(j)("flex cursor-default items-center justify-center py-1",n.class)}),{default:f(()=>[x(o.$slots,"default",{},()=>[P(l,{name:"i-lucide:chevron-down",size:16})])]),_:3},16,["class"])}}}),Gt=B({__name:"SelectScrollUpButton",props:{asChild:{type:Boolean},as:{},class:{}},setup(s){const n=s,e=M(()=>{const{class:o,...a}=n;return a}),i=J(e);return(o,a)=>{const l=de;return _(),C(t(Lt),O(t(i),{class:t(j)("flex cursor-default items-center justify-center py-1",n.class)}),{default:f(()=>[x(o.$slots,"default",{},()=>[P(l,{name:"i-lucide:chevron-up",size:16})])]),_:3},16,["class"])}}}),Yt=B({__name:"SelectTrigger",props:{disabled:{type:Boolean},reference:{},asChild:{type:Boolean},as:{},class:{}},setup(s){const n=s,e=M(()=>{const{class:o,...a}=n;return a}),i=J(e);return(o,a)=>{const l=de;return _(),C(t(bt),O(t(i),{class:t(j)("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background data-[placeholder]:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:truncate text-start",n.class)}),{default:f(()=>[x(o.$slots,"default"),P(t(Ft),{"as-child":""},{default:f(()=>[P(l,{name:"i-lucide:chevron-down",size:16,class:"shrink-0 opacity-50"})]),_:1})]),_:3},16,["class"])}}}),Xt=B({__name:"SelectValue",props:{placeholder:{},asChild:{type:Boolean},as:{}},setup(s){const n=s;return(e,i)=>(_(),C(t(Kt),se(re(n)),{default:f(()=>[x(e.$slots,"default")]),_:3},16))}}),no=B({name:"KSelect",__name:"index",props:pt({disabled:{type:Boolean},options:{}},{modelValue:{},modelModifiers:{}}),emits:["update:modelValue"],setup(s){const n=s,e=ft(s,"modelValue"),i=M({get(){return n.options.find(o=>o.value===e.value)??n.options[0]},set(o){e.value=o.value}});return(o,a)=>(_(),C(t(zt),{modelValue:e.value,"onUpdate:modelValue":a[0]||(a[0]=l=>e.value=l),disabled:o.disabled},{default:f(()=>[P(t(Yt),{class:"w-[200px]"},{default:f(()=>[P(t(Xt),{placeholder:t(i).label},null,8,["placeholder"])]),_:1}),P(t(Nt),null,{default:f(()=>[P(t(Wt),null,{default:f(()=>[(_(!0),U(ye,null,ke(o.options,l=>(_(),C(t(jt),{key:l.value,value:l.value,disabled:l.disabled},{default:f(()=>[ue(Ae(l.label),1)]),_:2},1032,["value","disabled"]))),128))]),_:1})]),_:1})]),_:1},8,["modelValue","disabled"]))}});export{no as _};


/**
 * 由 admin 提供技术支持
 * Powered by admin
 * 代码仓库
 * Github https://github.com/Lmx1220/kpu-web
 */
    
import{d as f,A as V,B as w,C as x,r as A,D as L,E as N,f as u,o as d,w as p,y as c,j as e,G as U,H as j,I as F,i as h,P as G,J as H,K as W,L as b,M as B,N as M,O as $,Q as q,c as v,R as O,S as I,U as J,b as D,h as C,F as P,q as R,V as Q,p as X,v as Y}from"./bootstrap-DTzpk8a9.js";import{_ as Z,a as ee,b as oe,c as te,d as ae,e as se,f as ne,g as re}from"./MenuLabel-v4UIozEX.js";const[K,le]=V("DropdownMenuRoot"),de=f({__name:"DropdownMenuRoot",props:{defaultOpen:{type:Boolean},open:{type:Boolean,default:void 0},dir:{},modal:{type:Boolean,default:!0}},emits:["update:open"],setup(r,{emit:a}){const o=r,l=a;w();const s=x(o,"open",l,{defaultValue:o.defaultOpen,passive:o.open===void 0}),n=A(),{modal:t,dir:i}=L(o),m=N(i);return le({open:s,onOpenChange:g=>{s.value=g},onOpenToggle:()=>{s.value=!s.value},triggerId:"",triggerElement:n,contentId:"",modal:t,dir:m}),(g,y)=>(d(),u(e(Z),{open:e(s),"onUpdate:open":y[0]||(y[0]=_=>U(s)?s.value=_:null),dir:e(m),modal:e(t)},{default:p(()=>[c(g.$slots,"default",{open:e(s)})]),_:3},8,["open","dir","modal"]))}}),ie=f({__name:"DropdownMenuTrigger",props:{disabled:{type:Boolean},asChild:{type:Boolean},as:{default:"button"}},setup(r){const a=r,o=K(),{forwardRef:l,currentElement:s}=w();return j(()=>{o.triggerElement=s}),o.triggerId||(o.triggerId=F(void 0,"reka-dropdown-menu-trigger")),(n,t)=>(d(),u(e(ee),{"as-child":""},{default:p(()=>[h(e(G),{id:e(o).triggerId,ref:e(l),type:n.as==="button"?"button":void 0,"as-child":a.asChild,as:n.as,"aria-haspopup":"menu","aria-expanded":e(o).open.value,"aria-controls":e(o).open.value?e(o).contentId:void 0,"data-disabled":n.disabled?"":void 0,disabled:n.disabled,"data-state":e(o).open.value?"open":"closed",onClick:t[0]||(t[0]=async i=>{var m;!n.disabled&&i.button===0&&i.ctrlKey===!1&&((m=e(o))==null||m.onOpenToggle(),await W(),e(o).open.value&&i.preventDefault())}),onKeydown:t[1]||(t[1]=H(i=>{n.disabled||(["Enter"," "].includes(i.key)&&e(o).onOpenToggle(),i.key==="ArrowDown"&&e(o).onOpenChange(!0),["Enter"," ","ArrowDown"].includes(i.key)&&i.preventDefault())},["enter","space","arrow-down"]))},{default:p(()=>[c(n.$slots,"default")]),_:3},8,["id","type","as-child","as","aria-expanded","aria-controls","data-disabled","disabled","data-state"])]),_:3}))}}),pe=f({__name:"DropdownMenuPortal",props:{to:{},disabled:{type:Boolean},defer:{type:Boolean},forceMount:{type:Boolean}},setup(r){const a=r;return(o,l)=>(d(),u(e(oe),b(B(a)),{default:p(()=>[c(o.$slots,"default")]),_:3},16))}}),ue=f({__name:"DropdownMenuContent",props:{forceMount:{type:Boolean},loop:{type:Boolean},side:{},sideOffset:{},align:{},alignOffset:{},avoidCollisions:{type:Boolean},collisionBoundary:{},collisionPadding:{},arrowPadding:{},sticky:{},hideWhenDetached:{type:Boolean},positionStrategy:{},updatePositionStrategy:{},disableUpdateOnLayoutShift:{type:Boolean},prioritizePosition:{type:Boolean},reference:{},asChild:{type:Boolean},as:{}},emits:["escapeKeyDown","pointerDownOutside","focusOutside","interactOutside","closeAutoFocus"],setup(r,{emit:a}){const s=M(r,a);w();const n=K(),t=A(!1);function i(m){m.defaultPrevented||(t.value||setTimeout(()=>{var g;(g=n.triggerElement.value)==null||g.focus()},0),t.value=!1,m.preventDefault())}return n.contentId||(n.contentId=F(void 0,"reka-dropdown-menu-content")),(m,g)=>{var y;return d(),u(e(te),$(e(s),{id:e(n).contentId,"aria-labelledby":(y=e(n))==null?void 0:y.triggerId,style:{"--reka-dropdown-menu-content-transform-origin":"var(--reka-popper-transform-origin)","--reka-dropdown-menu-content-available-width":"var(--reka-popper-available-width)","--reka-dropdown-menu-content-available-height":"var(--reka-popper-available-height)","--reka-dropdown-menu-trigger-width":"var(--reka-popper-anchor-width)","--reka-dropdown-menu-trigger-height":"var(--reka-popper-anchor-height)"},onCloseAutoFocus:i,onInteractOutside:g[0]||(g[0]=_=>{var S;if(_.defaultPrevented)return;const k=_.detail.originalEvent,E=k.button===0&&k.ctrlKey===!0,T=k.button===2||E;(!e(n).modal.value||T)&&(t.value=!0),(S=e(n).triggerElement.value)!=null&&S.contains(_.target)&&_.preventDefault()})}),{default:p(()=>[c(m.$slots,"default")]),_:3},16,["id","aria-labelledby"])}}}),ce=f({__name:"DropdownMenuItem",props:{disabled:{type:Boolean},textValue:{},asChild:{type:Boolean},as:{}},emits:["select"],setup(r,{emit:a}){const o=r,s=q(a);return w(),(n,t)=>(d(),u(e(ae),b(B({...o,...e(s)})),{default:p(()=>[c(n.$slots,"default")]),_:3},16))}}),fe=f({__name:"DropdownMenuGroup",props:{asChild:{type:Boolean},as:{}},setup(r){const a=r;return w(),(o,l)=>(d(),u(e(se),b(B(a)),{default:p(()=>[c(o.$slots,"default")]),_:3},16))}}),me=f({__name:"DropdownMenuSeparator",props:{asChild:{type:Boolean},as:{}},setup(r){const a=r;return w(),(o,l)=>(d(),u(e(ne),b(B(a)),{default:p(()=>[c(o.$slots,"default")]),_:3},16))}}),_e=f({__name:"DropdownMenuLabel",props:{asChild:{type:Boolean},as:{}},setup(r){const a=r;return w(),(o,l)=>(d(),u(e(re),b(B(a)),{default:p(()=>[c(o.$slots,"default")]),_:3},16))}}),ge=f({__name:"DropdownMenu",props:{defaultOpen:{type:Boolean},open:{type:Boolean},dir:{},modal:{type:Boolean}},emits:["update:open"],setup(r,{emit:a}){const s=M(r,a);return(n,t)=>(d(),u(e(de),b(B(e(s))),{default:p(()=>[c(n.$slots,"default")]),_:3},16))}}),ye=f({__name:"DropdownMenuContent",props:{forceMount:{type:Boolean},loop:{type:Boolean},side:{},sideOffset:{default:4},align:{},alignOffset:{},avoidCollisions:{type:Boolean},collisionBoundary:{},collisionPadding:{},arrowPadding:{},sticky:{},hideWhenDetached:{type:Boolean},positionStrategy:{},updatePositionStrategy:{},disableUpdateOnLayoutShift:{type:Boolean},prioritizePosition:{type:Boolean},reference:{},asChild:{type:Boolean},as:{},class:{}},emits:["escapeKeyDown","pointerDownOutside","focusOutside","interactOutside","closeAutoFocus"],setup(r,{emit:a}){const o=r,l=a,s=v(()=>{const{class:t,...i}=o;return i}),n=M(s,l);return(t,i)=>(d(),u(e(pe),null,{default:p(()=>[h(e(ue),$(e(n),{class:e(O)("z-2000 min-w-32 overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",o.class)}),{default:p(()=>[c(t.$slots,"default")]),_:3},16,["class"])]),_:3}))}}),he=f({__name:"DropdownMenuGroup",props:{asChild:{type:Boolean},as:{}},setup(r){const a=r;return(o,l)=>(d(),u(e(fe),b(B(a)),{default:p(()=>[c(o.$slots,"default")]),_:3},16))}}),we=f({__name:"DropdownMenuItem",props:{disabled:{type:Boolean},textValue:{},asChild:{type:Boolean},as:{},class:{},inset:{type:Boolean}},setup(r){const a=r,o=v(()=>{const{class:s,...n}=a;return n}),l=I(o);return(s,n)=>(d(),u(e(ce),$(e(l),{class:e(O)("relative flex cursor-default select-none items-center rounded-sm gap-2 px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50  [&>svg]:size-4 [&>svg]:shrink-0",s.inset&&"pl-8",a.class)}),{default:p(()=>[c(s.$slots,"default")]),_:3},16,["class"]))}}),be=f({__name:"DropdownMenuLabel",props:{asChild:{type:Boolean},as:{},class:{},inset:{type:Boolean}},setup(r){const a=r,o=v(()=>{const{class:s,...n}=a;return n}),l=I(o);return(s,n)=>(d(),u(e(_e),$(e(l),{class:e(O)("px-2 py-1.5 text-sm font-semibold",s.inset&&"pl-8",a.class)}),{default:p(()=>[c(s.$slots,"default")]),_:3},16,["class"]))}}),z=f({__name:"DropdownMenuSeparator",props:{asChild:{type:Boolean},as:{},class:{}},setup(r){const a=r,o=v(()=>{const{class:l,...s}=a;return s});return(l,s)=>(d(),u(e(me),$(o.value,{class:e(O)("-mx-1 my-1 h-px bg-muted",a.class)}),null,16,["class"]))}}),Be=f({__name:"DropdownMenuTrigger",props:{disabled:{type:Boolean},asChild:{type:Boolean},as:{}},setup(r){const o=I(r);return(l,s)=>(d(),u(e(ie),$({class:"outline-none"},e(o)),{default:p(()=>[c(l.$slots,"default")]),_:3},16))}}),ve={key:0,class:"size-4 flex-center"},De=f({name:"KpuDropdown",__name:"index",props:{align:{},alignOffset:{},side:{},sideOffset:{},collisionPadding:{},items:{}},setup(r){const a=r,o=J(),l=v(()=>a.items.map(t=>t.filter(i=>!i.hide)).filter(t=>t.length)),s=v(()=>l.value.some(t=>t.some(i=>i.icon)));function n(t){var i;(i=t.handle)==null||i.call(t)}return(t,i)=>{const m=X;return d(),u(e(ge),{modal:!1},{default:p(()=>[h(e(Be),{"as-child":""},{default:p(()=>[c(t.$slots,"default")]),_:3}),h(e(ye),{align:t.align,"align-offset":t.alignOffset,side:t.side,"side-offset":t.sideOffset,"collision-padding":t.collisionPadding},{default:p(()=>[o.label?(d(),D(P,{key:0},[h(e(be),null,{default:p(()=>[c(t.$slots,"label")]),_:3}),h(e(z))],64)):C("",!0),(d(!0),D(P,null,R(e(l),(g,y)=>(d(),D(P,{key:y},[h(e(he),null,{default:p(()=>[(d(!0),D(P,null,R(g,(_,k)=>(d(),u(e(we),{key:k,disabled:_.disabled,onClick:E=>n(_)},{default:p(()=>[e(s)?(d(),D("div",ve,[_.icon?(d(),u(m,{key:0,name:_.icon,size:16},null,8,["name"])):C("",!0)])):C("",!0),Q(" "+Y(_.label),1)]),_:2},1032,["disabled","onClick"]))),128))]),_:2},1024),y!==e(l).length-1?(d(),u(e(z),{key:0})):C("",!0)],64))),128))]),_:3},8,["align","align-offset","side","side-offset","collision-padding"])]),_:3})}}});export{De as _};

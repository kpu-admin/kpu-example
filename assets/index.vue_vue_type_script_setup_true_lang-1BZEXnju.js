
/**
 * 由 admin 提供技术支持
 * Powered by admin
 * 代码仓库
 * Github https://github.com/Lmx1220/kpu-web
 */
    
import{d as p,D as B,C as _,B as v,c as y,A as $,f as i,o as u,w as c,y as f,h as k,j as e,O as w,J as q,a3 as S,P as V,N as I,R as b,i as R,n as K,a5 as M,a6 as P,p as F}from"./bootstrap-DTzpk8a9.js";import{u as E}from"./useFormControl-Bfdwftmu.js";import{_ as N}from"./VisuallyHiddenInput-BWgIjf8G.js";const[j,T]=$("SwitchRoot"),z=p({__name:"SwitchRoot",props:{defaultValue:{type:Boolean},modelValue:{type:[Boolean,null],default:void 0},disabled:{type:Boolean},id:{},value:{default:"on"},asChild:{type:Boolean},as:{default:"button"},name:{},required:{type:Boolean}},emits:["update:modelValue"],setup(n,{emit:s}){const a=n,d=s,{disabled:t}=B(a),l=_(a,"modelValue",d,{defaultValue:a.defaultValue,passive:a.modelValue===void 0});function r(){t.value||(l.value=!l.value)}const{forwardRef:m,currentElement:h}=v(),g=E(h),C=y(()=>{var o;return a.id&&h.value?(o=document.querySelector(`[for="${a.id}"]`))==null?void 0:o.innerText:void 0});return T({modelValue:l,toggleCheck:r,disabled:t}),(o,J)=>(u(),i(e(V),w(o.$attrs,{id:o.id,ref:e(m),role:"switch",type:o.as==="button"?"button":void 0,value:o.value,"aria-label":o.$attrs["aria-label"]||C.value,"aria-checked":e(l),"aria-required":o.required,"data-state":e(l)?"checked":"unchecked","data-disabled":e(t)?"":void 0,"as-child":o.asChild,as:o.as,disabled:e(t),onClick:r,onKeydown:q(S(r,["prevent"]),["enter"])}),{default:c(()=>[f(o.$slots,"default",{modelValue:e(l)}),e(g)&&o.name?(u(),i(e(N),{key:0,type:"checkbox",name:o.name,disabled:e(t),required:o.required,value:o.value,checked:!!e(l)},null,8,["name","disabled","required","value","checked"])):k("",!0)]),_:3},16,["id","type","value","aria-label","aria-checked","aria-required","data-state","data-disabled","as-child","as","disabled","onKeydown"]))}}),A=p({__name:"SwitchThumb",props:{asChild:{type:Boolean},as:{default:"span"}},setup(n){const s=j();return v(),(a,d)=>{var t;return u(),i(e(V),{"data-state":(t=e(s).modelValue)!=null&&t.value?"checked":"unchecked","data-disabled":e(s).disabled.value?"":void 0,"as-child":a.asChild,as:a.as},{default:c(()=>[f(a.$slots,"default")]),_:3},8,["data-state","data-disabled","as-child","as"])}}}),D=p({__name:"Switch",props:{defaultValue:{type:Boolean},modelValue:{type:[Boolean,null]},disabled:{type:Boolean},id:{},value:{},asChild:{type:Boolean},as:{},name:{},required:{type:Boolean},class:{}},emits:["update:modelValue"],setup(n,{emit:s}){const a=n,d=s,t=y(()=>{const{class:r,...m}=a;return m}),l=I(t,d);return(r,m)=>(u(),i(e(z),w(e(l),{class:e(b)("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",a.class)}),{default:c(()=>[R(e(A),{class:K(e(b)("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 rtl:data-[state=checked]:-translate-x-5"))},{default:c(()=>[f(r.$slots,"thumb")]),_:3},8,["class"])]),_:3},16,["class"]))}}),G=p({name:"KSwitch",__name:"index",props:M({disabled:{type:Boolean},onIcon:{},offIcon:{}},{modelValue:{type:Boolean},modelModifiers:{}}),emits:["update:modelValue"],setup(n){const s=P(n,"modelValue");return(a,d)=>{const t=F;return u(),i(e(D),{modelValue:s.value,"onUpdate:modelValue":d[0]||(d[0]=l=>s.value=l),disabled:a.disabled},{thumb:c(()=>[s.value&&a.onIcon||!s.value&&a.offIcon?(u(),i(t,{key:0,name:s.value?a.onIcon:a.offIcon,class:"h-3 w-3 text-foreground"},null,8,["name"])):k("",!0)]),_:1},8,["modelValue","disabled"])}}});export{G as _};
